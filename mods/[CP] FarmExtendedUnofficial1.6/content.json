{
  "Format": "2.5.0",
  "ConfigSchema": {
    "Map to Replace": {
      "AllowValues": "Standard, Foraging, Fishing, Mining, Combat",
      "AllowBlank": false,
      "Default": "Standard",
      "Description": "Select which farm to replace."
    },
    "Secret Woods Shortcut": {
      "AllowValues": "true, false",
      "Default": "true",
      "Description": "Adds a shortcut connecting the farm to the secret woods."
    }
  },
  "Changes": [    
    //Overwrite Farm depending on config
    {
      //Overwrite Standard Farm
      "LogName": "Overwriting Standard Farm",
      "Action": "Load",
      "Target": "Maps/Farm",
      "FromFile": "assets/Farm.tmx",
      "When":{
        "Map to Replace": "Standard"
      }
    },
    {
      //Overwrite non-standard/ beach/ meadow farm
      "LogName": "Overwriting Non-Standard Farm",
      "Action": "Load",
      "Target": "Maps/Farm_{{Map to Replace}}",
      "FromFile": "assets/Farm.tmx"
    },
    //Add Fish Data
    {
      "LogName": "Overwrite Standard Farm Fish Data",
      "Action": "EditData",
      "Target": "Data/Locations",
      "TargetField": ["Farm_Standard"],
      "When": {
        "Map to Replace": "Standard"
      },
      "Entries": {
        "FishAreas": {},
        "Fish": [
          {
            "Chance": 0.5,
            "Id": "LOCATION_FISH Town BOBBER_X BOBBER_Y WATER_DEPTH",
            "ItemId": "LOCATION_FISH Town BOBBER_X BOBBER_Y WATER_DEPTH",
          },
          {
            "Chance": 1.0,
            "Id": "LOCATION_FISH Forest BOBBER_X BOBBER_Y WATER_DEPTH",
            "ItemId": "LOCATION_FISH Forest BOBBER_X BOBBER_Y WATER_DEPTH",
          }
        ],
      }
    },
    {
      "LogName": "Overwrite Non-Standard Farm Fish Data",
      "Action": "EditData",
      "Target": "Data/Locations",
      "TargetField": ["Farm_{{Map to Replace}}"],
      "Entries": {
        "FishAreas": {},
        "Fish": [
          {
            "Chance": 0.5,
            "Id": "LOCATION_FISH Town BOBBER_X BOBBER_Y WATER_DEPTH",
            "ItemId": "LOCATION_FISH Town BOBBER_X BOBBER_Y WATER_DEPTH",
          },
          {
            "Chance": 1.0,
            "Id": "LOCATION_FISH Forest BOBBER_X BOBBER_Y WATER_DEPTH",
            "ItemId": "LOCATION_FISH Forest BOBBER_X BOBBER_Y WATER_DEPTH",
          }
        ],
      }
    },

    {
      // PATCH FARM TO ADD SECRET WOODS SHORTCUT
      "LogName": "Add Secret Woods Exit from Farm",
      "Action": "EditMap",
      "Target": "Maps/Farm",
      "FromFile": "assets/Farm_WoodsExit.tmx",
      "ToArea": {
        "X": 10,
        "Y": 82,
        "Width": 4,
        "Height": 4
      },
      "PatchMode": "Replace",
      "AddWarps": [
        "11 86 Woods 47 4",
        "12 86 Woods 47 4"
      ],
      "When": {
        "Secret Woods Shortcut": true
      }
    },
    {
      //PATCH SECRET WOODS TO FARM SHORTCUT
      "LogName": "Patching Secret Woods",
      "Action": "EditMap",
      "Target": "Maps/Woods",
      "FromFile": "assets/Woods_FarmExit.tmx",
      "ToArea": {
        "X" :  47, 
        "Y":  1,
        "Width":  2,
        "Height": 4
      },
      "PatchMode": "Replace",
      "AddWarps": [
        "47 2 Farm 11 83", 
        "48 2 Farm 12 83"
      ],
      "When": {
        "HasMod |contains=Tikamin557.CP.SecretWoodsExtraArea": false,
        "Secret Woods Shortcut": true
      }
    },
    // compatibilities now in their own file
    {
      "Action": "Include",
      "FromFile": "data/compat.json"
    }
  ]
}